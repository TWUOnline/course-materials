/***********************************************/
//
// CSS added to override Moodle shell (2024-12)
//
/***********************************************/
//
// TWU Theme Variables
//
:root {
    --f-defaults: 'Helvetica Neue', Arial, sans-serif;
    --f-base: 'VerlagBook', 'Public Sans', var(--f-defaults);
    --f-serif: 'EB Garamond', 'JansonText55Roman', 'Times New Roman', Times, serif;
    --f-top-body: "Source Sans Pro",
        -apple-system,
        BlinkMacSystemFont,
        "Segoe UI",
        Roboto,
        "Helvetica Neue",
        Arial,
        sans-serif,
        "Apple Color Emoji",
        "Segoe UI Emoji",
        "Segoe UI Symbol";

    // Colors
    --c-social-grey: #efeeeb;
    --c-electric-blue: #428fec;
    --c-dark-blue: #002143;
    --c-trinity-blue: #002856;
    --c-golden-lights: #bd9b60;
    --c-pacific-sand: #c7c5ba;
    --c-academic-grey: #cfcdc9;
    --c-academic-grey-rgba: 207, 205, 201;
    --c-elegant-grey: #2d2a2b;
    --c-accessible-blue: #2375da;
    --c-tab-border: var(--c-pacific-sand);
    --c-thead-border: #333333;
    --c-black: var(--c-elegant-grey);

    // Primary
    --c-primary: var(--c-electric-blue);
    --c-primary-hover: var(--c-trinity-blue);
    --c-primary-pressed: var(--c-trinity-blue);

    --c-primary-light: var(--c-social-grey);
    --c-primary-light-hover: #f6faff;
    --c-primary-light-pressed: #d5e5fd;

    --c-primary-dark: var(--c-elegant-grey);
    --c-primary-dark-hover: #0233bf;
    --c-primary-dark-pressed: #021d69;

    // Secondary
    --c-secondary: var(--c-academic-grey);

    // Tertiary
    --c-tertiary: var(--c-elegant-grey);
    // System
    --c-warning: #ff993a;
    --c-error: #ef6a65;

    --navbar-height: 80px;
    --globalnav-height: 35px;

    // TWU Online (TOP 2025)
    --accent-color: #2375DA;
    --accent-color-dark: #025187;
    --accent-color-gold: #BD9B60;
    --primary-color: #004684;
    --primary-color-dark: #002856;
    --gray-color-lighter: #EFEEEB;
    --gray-color-light: #D9D9D9;
    --gray-color: #E3E1D8;
}
//
// Body
//
body {
    font-family: var(--f-top-body) !important;
}

//
// Typography
//
h1,
.h1,
h2,
.h2 {
    font-family: inherit;
}

h1,
h2,
h3,
h4,
h5,
h6,
.h1,
.h2,
.h3,
.h4,
.h5,
.h6 {
    line-height: unset;
    margin-top: 1rem;
}

//
// Color
//
a {
    color: var(--accent-color-dark);
}

//
// Spacing & border
//

ul>li>p,
ol>li>p {
    margin-bottom: 0;
}

.format-onetopic .secondary-navigation {
    padding: 0 1rem 1rem;
}

.p-left-30 {
    padding-left: 30px !important;
}

.border-left {
    border-left: 1px solid #cfcdc9;
}

.no-overflow {
    overflow: hidden;
}

//
// Header & Top Navbar
//
.twu-global-header__inner {
    padding: 0 1rem;
}

.navbar {
    padding: 0.5rem 1rem;
}

.navbar.navbar-dark.bg-primary .nav-link:hover,
.navbar.navbar-dark.bg-primary .nav-link:focus {
    color: #abd3ff !important;
}

//
// Breadcrumb
//
.breadcrumb {
    background-color: unset;

    li.breadcrumb-item:last-child span {
        background-color: #ced4da;
        border-radius: 4px;
        padding: 4px 10px;
    }
}

//
// Completion & Badge
//
.path-mod {
    .activity-information .completion-info {
        padding-top: 0;
        padding-bottom: 0;

        button.btn {
            float: right;
            background-color: white;
            color: var(--accent-color-dark);
            border-radius: 16px;
            padding: 4px 15px;
            text-transform: uppercase;
            border-width: 2px;

            &:hover,
            &.btn-success {
                background-color: var(--accent-color-dark);
                color: white;
            }
        }
    }

    .automatic-completion-conditions .badge {
        background-color: var(--accent-color-dark);
        float: right;
        color: white;
        font-size: 100%;

        .icon {
            width: 1rem;
            height: 1rem;
            font-size: 1rem;
        }
    }
}

.activitytitle .badge {
    padding: 0;
}

.activity-item:not(.activityinline) {
    border: 0;
    padding: 0;

    .activity-completion {

        button.btn,
        a[role="button"].btn {
            color: var(--accent-color-dark);
            border-color: var(--accent-color-dark);
            border-width: 2px;
            border-radius: 16px;
            font-weight: normal;
            padding: 0 15px;
            text-transform: uppercase;

            &:hover,
            &.btn-success {
                color: #fff;
                background-color: var(--accent-color-dark);
            }
        }
    }

    ol,
    ul {
        margin-bottom: unset;
    }
}

//
// Left Menu
//
.drawerheader {
    height: 50px;
}

.courseindex {
    .courseindex-section {
        border: 1px solid #dee2e6;
        margin-bottom: 0.375rem;
        border-radius: 6px;

        .courseindex-sectioncontent .courseindex-item {
            padding-left: 0;
            margin-left: .5rem;
        }
    }

    .icon {
        font-size: 16px;
        color: var(--accent-color-dark);
    }

    .icon.fa-chevron-right {
        position: relative;
        top: -1px;
    }

    .courseindex-link.text-truncate {
        overflow: visible;
        text-overflow: initial;
        white-space: normal;
        line-height: normal;
    }

    span.courseindex-cmicon-container {
        display: none;
    }

    .courseindex-item {
        padding: .3rem .5rem;
        border-radius: 4px;

        &.pageitem {
            background: #ced4da;

            &:hover,
            &:focus {
                background: #ced4da;
            }
        }

        &.pageitem a,
        .courseindex-link,
        .courseindex-chevron {
            font-size: .95em;
            padding-left: 8px;
        }

        &.courseindex-section-title {
            padding: .5rem;

            a {
                font-size: 1em;
                padding-left: 0;
            }
        }

        .icon {
            font-size: 20px;
            margin-right: 0;

            &.fa-circle:not(.fa-regular):before {
                content: "\f058";
            }

            &.fa-circle.fa-regular {
                color: #B1B1B1;
            }

            &.fa-lock {
                font-size: 14px;
                top: -3px;
                position: relative;
            }
        }
    }

    .courseindex-item:hover.pageitem,
    .courseindex-item:hover .pageitem,
    .courseindex-item:focus.pageitem,
    .courseindex-item:focus .pageitem {
        background-color: #ced4da;
        color: inherit;

        .courseindex-link {
            color: inherit;
        }
    }
}

//
// Course Content
//
.course-content {

    .badge:not(.activitybadge) {
        background-color: #bd9b60;
        color: #fff;
        border: none;
        border-radius: 30px;
        padding: 7px 20px;
        margin: 0 0 5px;
        text-transform: uppercase;
        font-weight: 700;
        display: inline-block;
        font-size: 12px;
    }

    .single-section .section-navigation:not(.mdl-bottom) {
        display: none !important;
    }

    ul.topics li.section,
    ul.weeks li.section,
    ul.cards li.section {
        padding: 0;
    }

    h1,
    .h1 {
        font-family: inherit;
    }

    .label.modtype_label {

        a:not(.btn) {
            text-decoration: underline;
        }

        a:not(.btn):hover {
            text-decoration: none;
        }

        a.action-button {
            color: #fff;
        }
    }
}

//
// Moodle Navigation
//
.activity-navigation #prev-activity-link,
.activity-navigation #next-activity-link,
.format-onetopic .section-navigation a {
    font-size: 15px;
    font-family: var(--f-top-body) !important;

    span.rarrow {
        padding-left: 6px;
    }

    span.larrow {
        padding-right: 6px;
    }
}

//
// Accordion
//
.accordion.twu-accordion {
    padding-bottom: 10px;

    .card-header,
    .collapse .card-body {
        padding: 0;
    }

    .btn {
        padding: .2rem .75rem;
    }

    .btn-link:hover {
        background-color: #fff;
        text-decoration: none;
    }

    .btn-link:active,
    .btn-link:focus {
        background-color: #ced4da;
        text-decoration: none;
    }
}

.section-summary-activities.d-flex>div.d-flex {
    background-color: #e9ecef;
    border-radius: 16px;
    padding: .1rem .75rem;
}

//
// Select Style
//
select.form-select{
    padding: .2rem 2.25rem .2rem .75rem;
    border: 1px solid var(--accent-color-dark);
    border-radius: 6px;
    color: var(--accent-color-dark);
}

//
// Toggle box bo show and hide
//
.toggle-box {
    display: none;
}

//
// Progress bar
//

header#page-header .progress {
    background-color: var(--gray-color-lighter);

    .progress-bar {
            background-color: var(--accent-color-dark);
        }
}

//
// User Tour Button
//

.usertour {
    position: fixed;
    bottom: calc(2rem + 75px);
    right: 1.77rem;
    width: 44px;
    height: 44px;
    transition: 0.2s;
    z-index: 1000;
    text-align: center;
    border-radius: 36px;
    background-color: var(--primary-color-dark);
    color: white;
    padding: 4px;

    > a {
        color: #fff !important;
        font-size: 11px;
        line-height: .9;
        display: inline-block;
        top: 3px;
        position: relative;

        &:hover {
            text-decoration: none;
            opacity: .9;
        }
    }
}

//
// Unit Notes Width Control
//

.format-onetopic ul.onetopic {
    max-width: 960px;
    margin: 0 auto;
}


/* ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
This is TWU Quarto CSS
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
/* Variables */

:root {
    --accent-color: #2375DA;
    --accent-color-gold: #BD9B60;
    --primary-color: #004684;
    --primary-color-dark: var(--c-trinity-blue);
    --gray-color-lighter: #EFEEEB;
    --gray-color-light: #D9D9D9;
    --gray-color: #E3E1D8;
    --incorrect: #983E82;
    --incorrect_alpha: #edaddd;
    --correct: #59935B;
    --correct_alpha: #c0edc2;
    --highlight: #467AAC;
    --highlight_alpha: #cce0ed;
}

/* Quarto TOC Styles */

nav#doc-toc {

    h2 {
        font-size: 1rem;
    }

    >ul {
        font-size: .875rem;
        padding-left: 10px;
        border-left: 1px dotted #dee2e6;

        >li {
            list-style: none;

            a.nav-link {
                padding: 2px 10px;
            }
        }
    }   
}

.quarto-content-container {

    margin: 0 auto;
    max-width: 780px;

    /* Quarto Built in css */

    h1,
    .h1 {
        margin-top: unset;
    }

    section > h2 {
        display: none;
    }

    section > h3.anchored {
        margin-top: 20px;
    }

    b,
    strong {
        font-family: var(--f-top-body);
        font-weight: bold !important;
    }

    ol,
    ul {
        margin-bottom: 1rem;
    }

    .figure-img {
       margin-bottom: 0; 
    }

    .quarto-figure-center table {
        text-align: left;
    }

    .quarto-figure-left>figure>p,
    .quarto-figure-left>figure>div {
        border: 1px solid #eee;
    }

    .quarto-dashboard .callout {
        margin-bottom: 0;
        margin-top: 0;
    }

    .callout {
        margin-top: 1.25rem;
        margin-bottom: 1.25rem;
        border-radius: 0.25rem;
        overflow-wrap: break-word;

        .callout-icon-container .no-icon {
            display: none;
        }

        pre.sourceCode {
            padding-left: 0;
        }

        div.sourceCode {
            margin-left: initial;
        }

        .callout-title-container {
            overflow-wrap: anywhere;
        }

        &.callout-style-simple {
            padding: 0.4em 0.7em;
            border-left: 5px solid;
            border-right: 1px solid #dee2e6;
            border-top: 1px solid #dee2e6;
            border-bottom: 1px solid #dee2e6;

            .callout-body {
                font-size: 0.9rem;
                font-weight: 400;
            }

            >div.callout-header {
                border-bottom: none;
                font-size: 0.9rem;
                font-weight: 600;
                opacity: 75%;
            }

            .callout-icon::before,
            .callout-toggle::before {
                height: 1rem;
                width: 1rem;
                display: inline-block;
                content: "";
                background-repeat: no-repeat;
                background-size: 1rem 1rem;
            }

            &:not(.no-icon) div.callout-icon-container {
                padding-top: 0.2em;
                padding-right: 0.55em;
            }

            &.callout-note.no-icon p,
            &.callout-note.no-icon ol li,
            .callout-body {
                font-family: var(--bs-body-font-family);
                font-size: var(--bs-body-font-size);
            }

            /* Accordion */

            &.accordion {
                border-left: 5px solid;
                border-left-color: var(--accent-color);
                border-right: 1px solid var(--primary-color);
                border-top: 1px solid var(--primary-color);
                border-bottom: 1px solid var(--primary-color);

                &.callout-titled .callout-collapse .callout-body .callout-style-simple.callout-note {
                    margin-bottom: 0;
                    border: 0;
                    border-left: 0.25rem solid var(--accent-color);
                    border-radius: 0;
                }
            }

            &.callout-titled .callout-collapse .callout-body> :last-child:not(.sourceCode),
            .callout-body p:last-child:not(.sourceCode) {
                margin-bottom: 0;
                margin-top: 0;
            }
        }

        &.callout-style-default {
            border-left: 5px solid;
            border-right: 1px solid #dee2e6;
            border-top: 1px solid #dee2e6;
            border-bottom: 1px solid #dee2e6;

            .callout-body {
                font-weight: 400;
                padding: 0.5rem 1rem 0 1rem;
                font-size: 1rem;

                > :first-child {
                    padding-top: 0.5rem;
                    margin-top: 0;
                }
            }

            >div.callout-header {
                border-bottom: none;
                opacity: 85%;
                font-size: 0.9rem;
                padding-left: 0.5em;
                padding-right: 0.5em;
                background-color: var(--primary-color);
                color: white;
                padding: 5px 1rem;
                font-weight: normal;

                &[aria-expanded="false"],
                &[aria-expanded="true"] {
                    padding-top: 0px;
                    margin-bottom: 0px;
                    align-items: center;
                }
            }

            .callout-icon::before,
            .callout-toggle::before {
                height: 0.9rem;
                width: 0.9rem;
                display: inline-block;
                content: "";
                background-repeat: no-repeat;
                background-size: 0.9rem 0.9rem;
            }

            .callout-toggle::before {
                margin-top: 5px;
            }

            &:not(.no-icon) div.callout-icon-container {
                padding-top: 0.1em;
                padding-right: 0.35em;
            }

            &:not(.no-icon) div.callout-title-container {
                margin-top: -1px;
            }

            &.callout-caution:not(.no-icon) div.callout-icon-container {
                padding-top: 0.3em;
                padding-right: 0.35em;
            }

            &.no-icon.callout-titled {
                border: 1px solid var(--primary-color);
            }

            .callout-style-simple.callout-note {
                margin-bottom: 1rem;
                border: 0;
                padding: 0;
            }

            .callout-style-simple.callout-note>.callout-body {
                padding: 0;
                font-size: 1rem;

                .callout-body-container {
                    padding-bottom: 0;

                    p {
                        padding-bottom: 0.2rem;
                        margin-top: 0.2rem;

                        &:last-child:not(.sourceCode) {
                            margin-bottom: 0;
                        }
                    }
                }
            }
        }

        .callout-body-container {
            flex-grow: 1;
        }

        &:not(.no-icon).callout-titled.callout-style-simple .callout-body {
            padding-left: 1.6em;
        }

        &.callout-titled>.callout-header {
            padding-top: 0.2em;
            margin-bottom: -0.2em;
        }

        >div.callout-header[data-bs-toggle="collapse"] {
            cursor: pointer;
        }

        .callout-header[aria-expanded="false"] .callout-toggle::before {
            transform: rotate(-90deg);
        }

        .callout-header[aria-expanded="true"] .callout-toggle::before {
            transform: none;
        }

        .callout-btn-toggle .callout-toggle::before {
            transition: transform 0.2s linear;
        }

        &.callout-note.callout {
            border-left-color: #2780e3;
        }

    }

    h3[data-anchor-id="learning-activities"]+.callout.callout-style-simple.callout-note.no-icon {
        border-left: 1px solid;
        border-color: var(--primary-color);
        padding: 0 0.5rem 0 0.5rem;
    }

    /* Blockquote Styles */

    .blockquote {
        padding-left: 1rem;
        padding-right: 1.5rem;
        color: unset;
        border-left: 0.25rem solid var(--accent-color-gold);
        background-color: rgba(233, 236, 239, 0.65);

        >:last-child,
        p:last-child,
        ul:last-child,
        ol:last-child {
            margin-bottom: 0;
        }
    }

    .course-activity .note blockquote {
        padding: 0.25rem 0.625rem;
        border-left: 0.25rem solid var(--accent-color);
    }

    /* Caption Styles */

    .panel-caption,
    .figure-caption,
    .subfigure-caption,
    figcaption {
        margin-bottom: 10px;
    }

    .panel-caption,
    .figure-caption,
    .subfigure-caption,
    .table-caption,
    figcaption,
    caption {
        text-align: left;
    }

    .caption p {
        font-size: 0.9rem;
        color: #6d7a86;
        line-height: 1.3;
    }

    /* Media Query */

    @media (max-width: 799px) {
        .twu-global-header .nav {
            display: none !important;
        }
    }

    @media (max-width: 991.98px) {
        #title-block-header .quarto-title-banner {
            margin-bottom: 0;
            padding-bottom: 0.5em;
        }
    }

    @media (min-width: 768px) {
        .column-margin.column-container .callout-margin-content:first-child {
            margin-top: 4.5em;
        }

        .column-margin.column-container .callout-margin-content-simple:first-child {
            margin-top: 3.5em;
        }
    }

    /* Add extra space after emphasized text */
    em {
        padding-right: 0.1rem;
    }

    /* Responsive Video */

    .quarto-video {
        max-width: 800px;
        margin-bottom: 10px;
    }

    .video-container {
        position: relative;
        padding-bottom: 56.25% !important;
        height: 0;
        overflow: hidden;
        margin-bottom: 1em !important;
    }

    .video-container iframe,
    .video-container object,
    .video-container embed {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    /* Responsive Tables */

    .parent-table-container {
        // container-type: inline-size;
        width: 100%;
        margin: 0 auto;
        overflow: auto;
    }

    .table-container {
        width: 100%;
    }

    table {
        width: 100%;
        border-collapse: collapse;
    }

    .table>thead {
        border-top: 1px solid #b2bac1;
    }

    ul>li>p,
    ol>li>p {
        margin-bottom: 0;
    }

    ul.task-list li {
        list-style-type: none;   

        input[type="checkbox"] {
            margin: 0px 0.8em 0px -2.5em;
            top: 2px;
            position: relative;       
        }
    }

    /* APA Reference Indentation */

    .references.hanging-indent {
        margin-left: 1.5em;
        text-indent: -1.5em;   
    }

    /* Accordion/Details in Moodle */

    details {
        margin-bottom: .75rem;

        >summary~div {
                margin: .5rem 0;
                padding: 0.5rem 0;
                border-top: 1px dotted #bbb;
                border-bottom: 1px dotted #bbb;   }
    }

    /* Webex Quiz Styling */

    .webex-box {
        border: 2px solid var(--highlight);
        padding: 1em;
        margin: 1em 0;
        border-radius: .25em;
        background-color: rgba(127, 127, 127, 0.05);
    }

    .webex-total_correct {
        margin-left: 1em;
    }

    .unchecked .webex-total_correct {
        display: none;
    }

    .unchecked .webex-incorrect,
    .unchecked .webex-correct {
        border: 2px dotted grey !important;
        background-color: white !important;
    }

    /* styles for webex-solveme */
    .webex-select,
    input.webex-solveme,
    .unchecked .webex-radiogroup label.webex-incorrect,
    .unchecked .webex-radiogroup label.webex-correct {
        border: 2px dotted grey;
        background-color: white;
        border-radius: 0.25em;
    }

    .webex-incorrect,
    input.webex-solveme.webex-incorrect,
    .webex-radiogroup label.webex-incorrect {
        border: 2px dotted var(--incorrect);
        background-color: var(--incorrect_alpha);
        color: black;
        border-radius: 0.25em;
    }

    .webex-correct,
    input.webex-solveme.webex-correct,
    .webex-radiogroup label.webex-correct {
        border: 2px solid var(--highlight);
        background-color: var(--highlight_alpha);
        color: black;
        border-radius: 0.25em;
    }

    .unchecked .webex-incorrect span::before,
    .unchecked .webex-incorrect+.webex-icon::after,
    .unchecked .webex-correct span::before,
    .unchecked .webex-correct+.webex-icon::after {
        content: "  ";
    }

    .webex-incorrect span::before,
    .webex-incorrect+.webex-icon::after {
        content: "";
        /* \274C   */
    }

    .webex-correct span::before,
    .webex-correct+.webex-icon::after {
        content: "";
        /* \2705   */
    }


    /* styles for hidden solutions */
    .webex-solution {
        height: 2.5em;
        overflow-y: hidden;
        padding: 0.5em;
        margin-bottom: 10px;
    }

    .webex-solution.open {
        height: auto;
        border: 2px solid var(--highlight);
        border-radius: 5px;
    }

    .webex-solution button,
    .webex-check-button {
        height: 2em;
        margin-bottom: 0.5em;
        border-radius: 0.5em;
        background-color: var(--highlight);
        color: white;
        padding: 0 0.5em;
    }

    .webex-solution pre.sourceCode {
        border-color: var(--correct);
    }

    .webex-radiogroup {
        margin: 1em 0;

        label {
                margin-left: 2em;
                margin-bottom: 0;
                text-indent: -1em;
                padding-left: 0.5em;
                font-weight: 400;
                display: block;
                border: 2px solid rgba(255, 255, 255, 0);
                background-color: inherit;
                border-radius: 0.25em;

                input {
                        position: relative;
                        left: -1em;
                    }
            }
    }
}